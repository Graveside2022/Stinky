const R=Symbol(),jr="http://www.w3.org/1999/xhtml",Jr="@attach",Dt=!1;var He=Array.isArray,Gr=Array.prototype.indexOf,Zt=Array.from,er=Object.defineProperty,Ce=Object.getOwnPropertyDescriptor,Qr=Object.getOwnPropertyDescriptors,Zr=Object.prototype,en=Array.prototype,tr=Object.getPrototypeOf;const X=()=>{};function rr(t){for(var e=0;e<t.length;e++)t[e]()}const M=2,nr=4,$e=8,gt=16,G=32,Ae=64,mt=128,x=256,Pe=512,D=1024,J=2048,ae=4096,j=8192,bt=16384,sr=32768,Ye=65536,tn=1<<19,ir=1<<20,at=1<<21,se=Symbol("$state"),rn=Symbol("legacy props"),nn=Symbol("");function or(t){return t===this.v}function ar(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function wt(t){return!ar(t,this.v)}function sn(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function on(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function an(t){throw new Error("https://svelte.dev/e/effect_orphan")}function un(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function fn(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function cn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ln(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function hn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let dn=!1;function ur(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let B=null;function qt(t){B=t}function ai(t,e=!1,r){var n=B={p:B,c:null,d:!1,e:null,m:!1,s:t,x:null,l:null};Tt(()=>{n.d=!0})}function ui(t){const e=B;if(e!==null){const o=e.e;if(o!==null){var r=E,n=w;e.e=null;try{for(var s=0;s<o.length;s++){var i=o[s];re(i.effect),K(i.reaction),le(i.fn)}}finally{re(r),K(n)}}B=e.p,e.m=!0}return{}}function fr(){return!0}function fe(t){if(typeof t!="object"||t===null||se in t)return t;const e=tr(t);if(e!==Zr&&e!==en)return t;var r=new Map,n=He(t),s=Q(0),i=w,o=u=>{var a=w;K(i);var f=u();return K(a),f};return n&&r.set("length",Q(t.length)),new Proxy(t,{defineProperty(u,a,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&cn();var h=r.get(a);return h===void 0?h=o(()=>{var l=Q(f.value);return r.set(a,l),l}):V(h,f.value,!0),!0},deleteProperty(u,a){var f=r.get(a);if(f===void 0){if(a in u){const c=o(()=>Q(R));r.set(a,c),Qe(s)}}else{if(n&&typeof a=="string"){var h=r.get("length"),l=Number(a);Number.isInteger(l)&&l<h.v&&V(h,l)}V(f,R),Qe(s)}return!0},get(u,a,f){if(a===se)return t;var h=r.get(a),l=a in u;if(h===void 0&&(!l||Ce(u,a)?.writable)&&(h=o(()=>{var p=fe(l?u[a]:R),d=Q(p);return d}),r.set(a,h)),h!==void 0){var c=C(h);return c===R?void 0:c}return Reflect.get(u,a,f)},getOwnPropertyDescriptor(u,a){var f=Reflect.getOwnPropertyDescriptor(u,a);if(f&&"value"in f){var h=r.get(a);h&&(f.value=C(h))}else if(f===void 0){var l=r.get(a),c=l?.v;if(l!==void 0&&c!==R)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return f},has(u,a){if(a===se)return!0;var f=r.get(a),h=f!==void 0&&f.v!==R||Reflect.has(u,a);if(f!==void 0||E!==null&&(!h||Ce(u,a)?.writable)){f===void 0&&(f=o(()=>{var c=h?fe(u[a]):R,p=Q(c);return p}),r.set(a,f));var l=C(f);if(l===R)return!1}return h},set(u,a,f,h){var l=r.get(a),c=a in u;if(n&&a==="length")for(var p=f;p<l.v;p+=1){var d=r.get(p+"");d!==void 0?V(d,R):p in u&&(d=o(()=>Q(R)),r.set(p+"",d))}if(l===void 0)(!c||Ce(u,a)?.writable)&&(l=o(()=>Q(void 0)),V(l,fe(f)),r.set(a,l));else{c=l.v!==R;var A=o(()=>fe(f));V(l,A)}var g=Reflect.getOwnPropertyDescriptor(u,a);if(g?.set&&g.set.call(h,f),!c){if(n&&typeof a=="string"){var S=r.get("length"),v=Number(a);Number.isInteger(v)&&v>=S.v&&V(S,v+1)}Qe(s)}return!0},ownKeys(u){C(s);var a=Reflect.ownKeys(u).filter(l=>{var c=r.get(l);return c===void 0||c.v!==R});for(var[f,h]of r)h.v!==R&&!(f in u)&&a.push(f);return a},setPrototypeOf(){ln()}})}function Qe(t,e=1){V(t,t.v+e)}function Mt(t){try{if(t!==null&&typeof t=="object"&&se in t)return t[se]}catch{}return t}function pn(t,e){return Object.is(Mt(t),Mt(e))}function Te(t){var e=M|J,r=w!==null&&(w.f&M)!==0?w:null;return E===null||r!==null&&(r.f&x)!==0?e|=x:E.f|=ir,{ctx:B,deps:null,effects:null,equals:or,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:r??E}}function fi(t){const e=Te(t);return wr(e),e}function _n(t){const e=Te(t);return e.equals=wt,e}function cr(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)Y(e[r])}}function vn(t){for(var e=t.parent;e!==null;){if((e.f&M)===0)return e;e=e.parent}return null}function lr(t){var e,r=E;re(vn(t));try{cr(t),e=kr(t)}finally{re(r)}return e}function hr(t){var e=lr(t);if(t.equals(e)||(t.v=e,t.wv=Ar()),!de){var r=(ee||(t.f&x)!==0)&&t.deps!==null?ae:D;W(t,r)}}const we=new Map;function Ie(t,e){var r={f:0,v:t,reactions:null,equals:or,rv:0,wv:0};return r}function Q(t,e){const r=Ie(t);return wr(r),r}function Et(t,e=!1,r=!0){const n=Ie(t);return e||(n.equals=wt),n}function V(t,e,r=!1){w!==null&&!H&&fr()&&(w.f&(M|gt))!==0&&!(I?.[1].includes(t)&&I[0]===w)&&hn();let n=r?fe(e):e;return ut(t,n)}function ut(t,e){if(!t.equals(e)){var r=t.v;de?we.set(t,e):we.set(t,r),t.v=e,(t.f&M)!==0&&((t.f&J)!==0&&lr(t),W(t,(t.f&x)===0?D:ae)),t.wv=Ar(),dr(t,J),E!==null&&(E.f&D)!==0&&(E.f&(G|Ae))===0&&(L===null?Nn([t]):L.push(t))}return e}function dr(t,e){var r=t.reactions;if(r!==null)for(var n=r.length,s=0;s<n;s++){var i=r[s],o=i.f;(o&J)===0&&(W(i,e),(o&(D|x))!==0&&((o&M)!==0?dr(i,ae):Ot(i)))}}function yn(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}let gn=!1;var mn,bn,wn;function At(t=""){return document.createTextNode(t)}function ce(t){return bn.call(t)}function Ke(t){return wn.call(t)}function ci(t,e){return ce(t)}function li(t,e){{var r=ce(t);return r instanceof Comment&&r.data===""?Ke(r):r}}function hi(t,e=1,r=!1){let n=t;for(;e--;)n=Ke(n);return n}function En(t){t.textContent=""}function An(t){E===null&&w===null&&an(),w!==null&&(w.f&x)!==0&&E===null&&on(),de&&sn()}function Tn(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function ke(t,e,r,n=!0){var s=E,i={ctx:B,deps:null,nodes_start:null,nodes_end:null,f:t|J,first:null,fn:e,last:null,next:null,parent:s,prev:null,teardown:null,transitions:null,wv:0};if(r)try{St(i),i.f|=sr}catch(a){throw Y(i),a}else e!==null&&Ot(i);var o=r&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(ir|mt))===0;if(!o&&n&&(s!==null&&Tn(i,s),w!==null&&(w.f&M)!==0)){var u=w;(u.effects??=[]).push(i)}return i}function Tt(t){const e=ke($e,null,!1);return W(e,D),e.teardown=t,e}function kn(t){An();var e=E!==null&&(E.f&G)!==0&&B!==null&&!B.m;if(e){var r=B;(r.e??=[]).push({fn:t,effect:E,reaction:w})}else{var n=le(t);return n}}function le(t){return ke(nr,t,!1)}function pr(t){return ke($e,t,!0)}function di(t,e=[],r=Te){const n=e.map(r);return he(()=>t(...n.map(C)))}function he(t,e=0){return ke($e|gt|e,t,!0)}function oe(t,e=!0){return ke($e|G,t,!0,e)}function _r(t){var e=t.teardown;if(e!==null){const r=de,n=w;Ft(!0),K(null);try{e.call(null)}finally{Ft(r),K(n)}}}function vr(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){var n=r.next;(r.f&Ae)!==0?r.parent=null:Y(r,e),r=n}}function Sn(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&G)===0&&Y(e),e=r}}function Y(t,e=!0){var r=!1;(e||(t.f&tn)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(On(t.nodes_start,t.nodes_end),r=!0),vr(t,e&&!r),Ue(t,0),W(t,bt);var n=t.transitions;if(n!==null)for(const i of n)i.stop();_r(t);var s=t.parent;s!==null&&s.first!==null&&yr(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function On(t,e){for(;t!==null;){var r=t===e?null:Ke(t);t.remove(),t=r}}function yr(t){var e=t.parent,r=t.prev,n=t.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),e!==null&&(e.first===t&&(e.first=n),e.last===t&&(e.last=r))}function ft(t,e){var r=[];kt(t,r,!0),gr(r,()=>{Y(t),e&&e()})}function gr(t,e){var r=t.length;if(r>0){var n=()=>--r||e();for(var s of t)s.out(n)}else e()}function kt(t,e,r){if((t.f&j)===0){if(t.f^=j,t.transitions!==null)for(const o of t.transitions)(o.is_global||r)&&e.push(o);for(var n=t.first;n!==null;){var s=n.next,i=(n.f&Ye)!==0||(n.f&G)!==0;kt(n,e,i?r:!1),n=s}}}function De(t){mr(t,!0)}function mr(t,e){if((t.f&j)!==0){t.f^=j;for(var r=t.first;r!==null;){var n=r.next,s=(r.f&Ye)!==0||(r.f&G)!==0;mr(r,s?e:!1),r=n}if(t.transitions!==null)for(const i of t.transitions)(i.is_global||e)&&i.in()}}let qe=[];function Rn(){var t=qe;qe=[],rr(t)}function We(t){qe.length===0&&queueMicrotask(Rn),qe.push(t)}function Cn(t){var e=E;if((e.f&sr)===0){if((e.f&mt)===0)throw t;e.fn(t)}else br(t,e)}function br(t,e){for(;e!==null;){if((e.f&mt)!==0)try{e.fn(t);return}catch{}e=e.parent}throw t}let ct=!1,Me=null,ie=!1,de=!1;function Ft(t){de=t}let Ne=[];let w=null,H=!1;function K(t){w=t}let E=null;function re(t){E=t}let I=null;function wr(t){w!==null&&w.f&at&&(I===null?I=[w,[t]]:I[1].push(t))}let O=null,N=0,L=null;function Nn(t){L=t}let Er=1,Fe=0,ee=!1;function Ar(){return++Er}function ze(t){var e=t.f;if((e&J)!==0)return!0;if((e&ae)!==0){var r=t.deps,n=(e&x)!==0;if(r!==null){var s,i,o=(e&Pe)!==0,u=n&&E!==null&&!ee,a=r.length;if(o||u){var f=t,h=f.parent;for(s=0;s<a;s++)i=r[s],(o||!i?.reactions?.includes(f))&&(i.reactions??=[]).push(f);o&&(f.f^=Pe),u&&h!==null&&(h.f&x)===0&&(f.f^=x)}for(s=0;s<a;s++)if(i=r[s],ze(i)&&hr(i),i.wv>t.wv)return!0}(!n||E!==null&&!ee)&&W(t,D)}return!1}function Tr(t,e,r=!0){var n=t.reactions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];I?.[1].includes(t)&&I[0]===w||((i.f&M)!==0?Tr(i,e,!1):e===i&&(r?W(i,J):(i.f&D)!==0&&W(i,ae),Ot(i)))}}function kr(t){var e=O,r=N,n=L,s=w,i=ee,o=I,u=B,a=H,f=t.f;O=null,N=0,L=null,ee=(f&x)!==0&&(H||!ie||w===null),w=(f&(G|Ae))===0?t:null,I=null,qt(t.ctx),H=!1,Fe++,t.f|=at;try{var h=(0,t.fn)(),l=t.deps;if(O!==null){var c;if(Ue(t,N),l!==null&&N>0)for(l.length=N+O.length,c=0;c<O.length;c++)l[N+c]=O[c];else t.deps=l=O;if(!ee)for(c=N;c<l.length;c++)(l[c].reactions??=[]).push(t)}else l!==null&&N<l.length&&(Ue(t,N),l.length=N);if(fr()&&L!==null&&!H&&l!==null&&(t.f&(M|ae|J))===0)for(c=0;c<L.length;c++)Tr(L[c],t);return s!==null&&s!==t&&(Fe++,L!==null&&(n===null?n=L:n.push(...L))),h}catch(p){Cn(p)}finally{O=e,N=r,L=n,w=s,ee=i,I=o,qt(u),H=a,t.f^=at}}function xn(t,e){let r=e.reactions;if(r!==null){var n=Gr.call(r,t);if(n!==-1){var s=r.length-1;s===0?r=e.reactions=null:(r[n]=r[s],r.pop())}}r===null&&(e.f&M)!==0&&(O===null||!O.includes(e))&&(W(e,ae),(e.f&(x|Pe))===0&&(e.f^=Pe),cr(e),Ue(e,0))}function Ue(t,e){var r=t.deps;if(r!==null)for(var n=e;n<r.length;n++)xn(t,r[n])}function St(t){var e=t.f;if((e&bt)===0){W(t,D);var r=E,n=ie;E=t,ie=!0;try{(e&gt)!==0?Sn(t):vr(t),_r(t);var s=kr(t);t.teardown=typeof s=="function"?s:null,t.wv=Er;var i;Dt&&dn&&(t.f&J)!==0&&t.deps}finally{ie=n,E=r}}}function Bn(){try{un()}catch(t){if(Me!==null)br(t,Me);else throw t}}function Ln(){var t=ie;try{var e=0;for(ie=!0;Ne.length>0;){e++>1e3&&Bn();var r=Ne,n=r.length;Ne=[];for(var s=0;s<n;s++){var i=In(r[s]);Pn(i)}we.clear()}}finally{ct=!1,ie=t,Me=null}}function Pn(t){var e=t.length;if(e!==0)for(var r=0;r<e;r++){var n=t[r];(n.f&(bt|j))===0&&ze(n)&&(St(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?yr(n):n.fn=null))}}function Ot(t){ct||(ct=!0,queueMicrotask(Ln));for(var e=Me=t;e.parent!==null;){e=e.parent;var r=e.f;if((r&(Ae|G))!==0){if((r&D)===0)return;e.f^=D}}Ne.push(e)}function In(t){for(var e=[],r=t;r!==null;){var n=r.f,s=(n&(G|Ae))!==0,i=s&&(n&D)!==0;if(!i&&(n&j)===0){(n&nr)!==0?e.push(r):s?r.f^=D:ze(r)&&St(r);var o=r.first;if(o!==null){r=o;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)r=u.next,u=u.parent}return e}function C(t){var e=t.f,r=(e&M)!==0;if(w!==null&&!H){if(!I?.[1].includes(t)||I[0]!==w){var n=w.deps;t.rv<Fe&&(t.rv=Fe,O===null&&n!==null&&n[N]===t?N++:O===null?O=[t]:(!ee||!O.includes(t))&&O.push(t))}}else if(r&&t.deps===null&&t.effects===null){var s=t,i=s.parent;i!==null&&(i.f&x)===0&&(s.f^=x)}return r&&(s=t,ze(s)&&hr(s)),de&&we.has(t)?we.get(t):t.v}function ne(t){var e=H;try{return H=!0,t()}finally{H=e}}const Dn=-7169;function W(t,e){t.f=t.f&Dn|e}function qn(t,e){if(e){const r=document.body;t.autofocus=!0,We(()=>{document.activeElement===r&&t.focus()})}}let Ut=!1;function Mn(){Ut||(Ut=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function Sr(t){var e=w,r=E;K(null),re(null);try{return t()}finally{K(e),re(r)}}function Or(t,e,r,n=r){t.addEventListener(e,()=>Sr(r));const s=t.__on_r;s?t.__on_r=()=>{s(),n(!0)}:t.__on_r=()=>n(!0),Mn()}const Fn=new Set,Un=new Set;function Rr(t,e,r,n={}){function s(i){if(n.capture||Hn.call(e,i),!i.cancelBubble)return Sr(()=>r?.call(this,i))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?We(()=>{e.addEventListener(t,s,n)}):e.addEventListener(t,s,n),s}function pi(t,e,r,n,s){var i={capture:n,passive:s},o=Rr(t,e,r,i);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&Tt(()=>{e.removeEventListener(t,o,i)})}function Vn(t){for(var e=0;e<t.length;e++)Fn.add(t[e]);for(var r of Un)r(t)}function Hn(t){var e=this,r=e.ownerDocument,n=t.type,s=t.composedPath?.()||[],i=s[0]||t.target,o=0,u=t.__root;if(u){var a=s.indexOf(u);if(a!==-1&&(e===document||e===window)){t.__root=e;return}var f=s.indexOf(e);if(f===-1)return;a<=f&&(o=a)}if(i=s[o]||t.target,i!==e){er(t,"currentTarget",{configurable:!0,get(){return i||r}});var h=w,l=E;K(null),re(null);try{for(var c,p=[];i!==null;){var d=i.assignedSlot||i.parentNode||i.host||null;try{var A=i["__"+n];if(A!=null&&(!i.disabled||t.target===i))if(He(A)){var[g,...S]=A;g.apply(i,[t,...S])}else A.call(i,t)}catch(v){c?p.push(v):c=v}if(t.cancelBubble||d===e||d===null)break;i=d}if(c){for(let v of p)queueMicrotask(()=>{throw v});throw c}}finally{t.__root=e,delete t.currentTarget,K(h),re(l)}}}function Cr(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Ee(t,e){var r=E;r.nodes_start===null&&(r.nodes_start=t,r.nodes_end=e)}function _i(t,e){var r=(e&1)!==0,n=(e&2)!==0,s,i=!t.startsWith("<!>");return()=>{s===void 0&&(s=Cr(i?t:"<!>"+t),r||(s=ce(s)));var o=n||mn?document.importNode(s,!0):s.cloneNode(!0);if(r){var u=ce(o),a=o.lastChild;Ee(u,a)}else Ee(o,o);return o}}function $n(t,e,r="svg"){var n=!t.startsWith("<!>"),s=`<${r}>${n?t:"<!>"+t}</${r}>`,i;return()=>{if(!i){var o=Cr(s),u=ce(o);i=ce(u)}var a=i.cloneNode(!0);return Ee(a,a),a}}function vi(t,e){return $n(t,e,"svg")}function yi(t=""){{var e=At(t+"");return Ee(e,e),e}}function gi(){var t=document.createDocumentFragment(),e=document.createComment(""),r=At();return t.append(e,r),Ee(e,r),t}function mi(t,e){t!==null&&t.before(e)}function Yn(t){return t.endsWith("capture")&&t!=="gotpointercapture"&&t!=="lostpointercapture"}const Kn=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Wn(t){return Kn.includes(t)}const zn={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Xn(t){return t=t.toLowerCase(),zn[t]??t}function bi(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??=t.nodeValue)&&(t.__t=r,t.nodeValue=r+"")}function wi(t,e,...r){var n=t,s=X,i;he(()=>{s!==(s=e())&&(i&&(Y(i),i=null),i=oe(()=>s(n,...r)))},Ye)}function jn(t){B===null&&ur(),kn(()=>{const e=ne(t);if(typeof e=="function")return e})}function Ei(t){B===null&&ur(),jn(()=>()=>ne(t))}function Ai(t,e,[r,n]=[0,0]){var s=t,i=null,o=null,u=R,a=r>0?Ye:0,f=!1;const h=(c,p=!0)=>{f=!0,l(p,c)},l=(c,p)=>{u!==(u=c)&&(u?(i?De(i):p&&(i=oe(()=>p(s))),o&&ft(o,()=>{o=null})):(o?De(o):p&&(o=oe(()=>p(s,[r+1,n]))),i&&ft(i,()=>{i=null})))};he(()=>{f=!1,e(h),f||l(null,null)},a)}function Ti(t,e){return e}function Jn(t,e,r,n){for(var s=[],i=e.length,o=0;o<i;o++)kt(e[o].e,s,!0);var u=i>0&&s.length===0&&r!==null;if(u){var a=r.parentNode;En(a),a.append(r),n.clear(),Z(t,e[0].prev,e[i-1].next)}gr(s,()=>{for(var f=0;f<i;f++){var h=e[f];u||(n.delete(h.k),Z(t,h.prev,h.next)),Y(h.e,!u)}})}function ki(t,e,r,n,s,i=null){var o=t,u={flags:e,items:new Map,first:null},a=(e&4)!==0;if(a){var f=t;o=f.appendChild(At())}var h=null,l=!1,c=_n(()=>{var p=r();return He(p)?p:p==null?[]:Zt(p)});he(()=>{var p=C(c),d=p.length;l&&d===0||(l=d===0,Gn(p,u,o,s,e,n,r),i!==null&&(d===0?h?De(h):h=oe(()=>i(o)):h!==null&&ft(h,()=>{h=null})),C(c))})}function Gn(t,e,r,n,s,i,o){var u=(s&8)!==0,a=(s&3)!==0,f=t.length,h=e.items,l=e.first,c=l,p,d=null,A,g=[],S=[],v,b,_,y;if(u)for(y=0;y<f;y+=1)v=t[y],b=i(v,y),_=h.get(b),_!==void 0&&(_.a?.measure(),(A??=new Set).add(_));for(y=0;y<f;y+=1){if(v=t[y],b=i(v,y),_=h.get(b),_===void 0){var T=c?c.e.nodes_start:r;d=Zn(T,e,d,d===null?e.first:d.next,v,b,y,n,s,o),h.set(b,d),g=[],S=[],c=d.next;continue}if(a&&Qn(_,v,y,s),(_.e.f&j)!==0&&(De(_.e),u&&(_.a?.unfix(),(A??=new Set).delete(_))),_!==c){if(p!==void 0&&p.has(_)){if(g.length<S.length){var F=S[0],U;d=F.prev;var It=g[0],Je=g[g.length-1];for(U=0;U<g.length;U+=1)Vt(g[U],F,r);for(U=0;U<S.length;U+=1)p.delete(S[U]);Z(e,It.prev,Je.next),Z(e,d,It),Z(e,Je,F),c=F,d=Je,y-=1,g=[],S=[]}else p.delete(_),Vt(_,c,r),Z(e,_.prev,_.next),Z(e,_,d===null?e.first:d.next),Z(e,d,_),d=_;continue}for(g=[],S=[];c!==null&&c.k!==b;)(c.e.f&j)===0&&(p??=new Set).add(c),S.push(c),c=c.next;if(c===null)continue;_=c}g.push(_),d=_,c=_.next}if(c!==null||p!==void 0){for(var _e=p===void 0?[]:Zt(p);c!==null;)(c.e.f&j)===0&&_e.push(c),c=c.next;var Ge=_e.length;if(Ge>0){var Xr=(s&4)!==0&&f===0?r:null;if(u){for(y=0;y<Ge;y+=1)_e[y].a?.measure();for(y=0;y<Ge;y+=1)_e[y].a?.fix()}Jn(e,_e,Xr,h)}}u&&We(()=>{if(A!==void 0)for(_ of A)_.a?.apply()}),E.first=e.first&&e.first.e,E.last=d&&d.e}function Qn(t,e,r,n){(n&1)!==0&&ut(t.v,e),(n&2)!==0?ut(t.i,r):t.i=r}function Zn(t,e,r,n,s,i,o,u,a,f){var h=(a&1)!==0,l=(a&16)===0,c=h?l?Et(s,!1,!1):Ie(s):s,p=(a&2)===0?o:Ie(o),d={i:p,v:c,k:i,a:null,e:null,prev:r,next:n};try{return d.e=oe(()=>u(t,c,p,f),gn),d.e.prev=r&&r.e,d.e.next=n&&n.e,r===null?e.first=d:(r.next=d,r.e.next=d.e),n!==null&&(n.prev=d,n.e.prev=d.e),d}finally{}}function Vt(t,e,r){for(var n=t.next?t.next.e.nodes_start:r,s=e?e.e.nodes_start:r,i=t.e.nodes_start;i!==n;){var o=Ke(i);s.before(i),i=o}}function Z(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function es(t,e){var r=void 0,n;he(()=>{r!==(r=e())&&(n&&(Y(n),n=null),r&&(n=oe(()=>{le(()=>r(t))})))})}function Nr(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=Nr(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ts(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=Nr(t))&&(n&&(n+=" "),n+=e);return n}function rs(t){return typeof t=="object"?ts(t):t??""}const Ht=[...` 	
\r\fÂ \v\uFEFF`];function ns(t,e,r){var n=t==null?"":""+t;if(e&&(n=n?n+" "+e:e),r){for(var s in r)if(r[s])n=n?n+" "+s:s;else if(n.length)for(var i=s.length,o=0;(o=n.indexOf(s,o))>=0;){var u=o+i;(o===0||Ht.includes(n[o-1]))&&(u===n.length||Ht.includes(n[u]))?n=(o===0?"":n.substring(0,o))+n.substring(u+1):o=u}}return n===""?null:n}function $t(t,e=!1){var r=e?" !important;":";",n="";for(var s in t){var i=t[s];i!=null&&i!==""&&(n+=" "+s+": "+i+r)}return n}function Ze(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function ss(t,e){if(e){var r="",n,s;if(Array.isArray(e)?(n=e[0],s=e[1]):n=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,o=0,u=!1,a=[];n&&a.push(...Object.keys(n).map(Ze)),s&&a.push(...Object.keys(s).map(Ze));var f=0,h=-1;const A=t.length;for(var l=0;l<A;l++){var c=t[l];if(u?c==="/"&&t[l-1]==="*"&&(u=!1):i?i===c&&(i=!1):c==="/"&&t[l+1]==="*"?u=!0:c==='"'||c==="'"?i=c:c==="("?o++:c===")"&&o--,!u&&i===!1&&o===0){if(c===":"&&h===-1)h=l;else if(c===";"||l===A-1){if(h!==-1){var p=Ze(t.substring(f,h).trim());if(!a.includes(p)){c!==";"&&l++;var d=t.substring(f,l).trim();r+=" "+d+";"}}f=l+1,h=-1}}}}return n&&(r+=$t(n)),s&&(r+=$t(s,!0)),r=r.trim(),r===""?null:r}return t==null?null:String(t)}function is(t,e,r,n,s,i){var o=t.__className;if(o!==r||o===void 0){var u=ns(r,n,i);u==null?t.removeAttribute("class"):e?t.className=u:t.setAttribute("class",u),t.__className=r}else if(i&&s!==i)for(var a in i){var f=!!i[a];(s==null||f!==!!s[a])&&t.classList.toggle(a,f)}return i}function et(t,e={},r,n){for(var s in r){var i=r[s];e[s]!==i&&(r[s]==null?t.style.removeProperty(s):t.style.setProperty(s,i,n))}}function os(t,e,r,n){var s=t.__style;if(s!==e){var i=ss(e,n);i==null?t.removeAttribute("style"):t.style.cssText=i,t.__style=e}else n&&(Array.isArray(n)?(et(t,r?.[0],n[0]),et(t,r?.[1],n[1],"important")):et(t,r,n));return n}function Ve(t,e,r){if(t.multiple){if(e==null)return;if(!He(e))return yn();for(var n of t.options)n.selected=e.includes(be(n));return}for(n of t.options){var s=be(n);if(pn(s,e)){n.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function xr(t,e){let r=!0;le(()=>{e&&Ve(t,ne(e),r),r=!1;var n=new MutationObserver(()=>{var s=t.__value;Ve(t,s)});return n.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function Si(t,e,r=e){var n=!0;Or(t,"change",s=>{var i=s?"[selected]":":checked",o;if(t.multiple)o=[].map.call(t.querySelectorAll(i),be);else{var u=t.querySelector(i)??t.querySelector("option:not([disabled])");o=u&&be(u)}r(o)}),le(()=>{var s=e();if(Ve(t,s,n),n&&s===void 0){var i=t.querySelector(":checked");i!==null&&(s=be(i),r(s))}t.__value=s,n=!1}),xr(t)}function be(t){return"__value"in t?t.__value:t.value}const ve=Symbol("class"),ye=Symbol("style"),Br=Symbol("is custom element"),Lr=Symbol("is html");function Oi(t,e){var r=Rt(t);r.checked!==(r.checked=e??void 0)&&(t.checked=e)}function as(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function Yt(t,e,r,n){var s=Rt(t);s[e]!==(s[e]=r)&&(e==="loading"&&(t[nn]=r),r==null?t.removeAttribute(e):typeof r!="string"&&Pr(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function us(t,e,r,n,s=!1){var i=Rt(t),o=i[Br],u=!i[Lr],a=e||{},f=t.tagName==="OPTION";for(var h in e)h in r||(r[h]=null);r.class?r.class=rs(r.class):r[ve]&&(r.class=null),r[ye]&&(r.style??=null);var l=Pr(t);for(const v in r){let b=r[v];if(f&&v==="value"&&b==null){t.value=t.__value="",a[v]=b;continue}if(v==="class"){var c=t.namespaceURI==="http://www.w3.org/1999/xhtml";is(t,c,b,n,e?.[ve],r[ve]),a[v]=b,a[ve]=r[ve];continue}if(v==="style"){os(t,b,e?.[ye],r[ye]),a[v]=b,a[ye]=r[ye];continue}var p=a[v];if(!(b===p&&!(b===void 0&&t.hasAttribute(v)))){a[v]=b;var d=v[0]+v[1];if(d!=="$$")if(d==="on"){const _={},y="$$"+v;let T=v.slice(2);var A=Wn(T);if(Yn(T)&&(T=T.slice(0,-7),_.capture=!0),!A&&p){if(b!=null)continue;t.removeEventListener(T,a[y],_),a[y]=null}if(b!=null)if(A)t[`__${T}`]=b,Vn([T]);else{let F=function(U){a[v].call(this,U)};a[y]=Rr(T,t,F,_)}else A&&(t[`__${T}`]=void 0)}else if(v==="style")Yt(t,v,b);else if(v==="autofocus")qn(t,!!b);else if(!o&&(v==="__value"||v==="value"&&b!=null))t.value=t.__value=b;else if(v==="selected"&&f)as(t,b);else{var g=v;u||(g=Xn(g));var S=g==="defaultValue"||g==="defaultChecked";if(b==null&&!o&&!S)if(i[v]=null,g==="value"||g==="checked"){let _=t;const y=e===void 0;if(g==="value"){let T=_.defaultValue;_.removeAttribute(g),_.defaultValue=T,_.value=_.__value=y?T:null}else{let T=_.defaultChecked;_.removeAttribute(g),_.defaultChecked=T,_.checked=y?T:!1}}else t.removeAttribute(v);else S||l.includes(g)&&(o||typeof b!="string")?t[g]=b:typeof b!="function"&&Yt(t,g,b)}}}return a}function Ri(t,e,r=[],n,s=!1,i=Te){const o=r.map(i);var u=void 0,a={},f=t.nodeName==="SELECT",h=!1;he(()=>{var l=e(...o.map(C)),c=us(t,u,l,n,s);h&&f&&"value"in l&&Ve(t,l.value,!1);for(let d of Object.getOwnPropertySymbols(a))l[d]||Y(a[d]);for(let d of Object.getOwnPropertySymbols(l)){var p=l[d];d.description===Jr&&(!u||p!==u[d])&&(a[d]&&Y(a[d]),a[d]=oe(()=>es(t,()=>p))),c[d]=p}u=c}),f&&xr(t,()=>u.value),h=!0}function Rt(t){return t.__attributes??={[Br]:t.nodeName.includes("-"),[Lr]:t.namespaceURI===jr}}var Kt=new Map;function Pr(t){var e=Kt.get(t.nodeName);if(e)return e;Kt.set(t.nodeName,e=[]);for(var r,n=t,s=Element.prototype;s!==n;){r=Qr(n);for(var i in r)r[i].set&&e.push(i);n=tr(n)}return e}function Ci(t,e,r=e){Or(t,"input",n=>{var s=n?t.defaultValue:t.value;if(s=tt(t)?rt(s):s,r(s),s!==(s=e())){var i=t.selectionStart,o=t.selectionEnd;t.value=s??"",o!==null&&(t.selectionStart=i,t.selectionEnd=Math.min(o,t.value.length))}}),ne(e)==null&&t.value&&r(tt(t)?rt(t.value):t.value),pr(()=>{var n=e();tt(t)&&n===rt(t.value)||t.type==="date"&&!n&&!t.value||n!==t.value&&(t.value=n??"")})}function tt(t){var e=t.type;return e==="number"||e==="range"}function rt(t){return t===""?null:+t}function Wt(t,e){return t===e||t?.[se]===e}function Ni(t={},e,r,n){return le(()=>{var s,i;return pr(()=>{s=i,i=[],ne(()=>{t!==r(...i)&&(e(t,...i),s&&Wt(r(...s),t)&&e(null,...s))})}),()=>{We(()=>{i&&Wt(r(...i),t)&&e(null,...i)})}}),t}function Ct(t,e,r){if(t==null)return e(void 0),r&&r(void 0),X;const n=ne(()=>t.subscribe(e,r));return n.unsubscribe?()=>n.unsubscribe():n}const ue=[];function fs(t,e){return{subscribe:cs(t,e).subscribe}}function cs(t,e=X){let r=null;const n=new Set;function s(u){if(ar(t,u)&&(t=u,r)){const a=!ue.length;for(const f of n)f[1](),ue.push(f,t);if(a){for(let f=0;f<ue.length;f+=2)ue[f][0](ue[f+1]);ue.length=0}}}function i(u){s(u(t))}function o(u,a=X){const f=[u,a];return n.add(f),n.size===1&&(r=e(s,i)||X),u(t),()=>{n.delete(f),n.size===0&&r&&(r(),r=null)}}return{set:s,update:i,subscribe:o}}function xi(t,e,r){const n=!Array.isArray(t),s=n?[t]:t;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=e.length<2;return fs(r,(o,u)=>{let a=!1;const f=[];let h=0,l=X;const c=()=>{if(h)return;l();const d=e(n?f[0]:f,o,u);i?o(d):l=typeof d=="function"?d:X},p=s.map((d,A)=>Ct(d,g=>{f[A]=g,h&=~(1<<A),a&&c()},()=>{h|=1<<A}));return a=!0,c(),function(){rr(p),l(),a=!1}})}function ls(t){let e;return Ct(t,r=>e=r)(),e}let Se=!1,lt=Symbol();function Bi(t,e,r){const n=r[e]??={store:null,source:Et(void 0),unsubscribe:X};if(n.store!==t&&!(lt in r))if(n.unsubscribe(),n.store=t??null,t==null)n.source.v=void 0,n.unsubscribe=X;else{var s=!0;n.unsubscribe=Ct(t,i=>{s?n.source.v=i:V(n.source,i)}),s=!1}return t&&lt in r?ls(t):C(n.source)}function Li(){const t={};function e(){Tt(()=>{for(var r in t)t[r].unsubscribe();er(t,lt,{enumerable:!1,value:!0})})}return[t,e]}function hs(t){var e=Se;try{return Se=!1,[t(),Se]}finally{Se=e}}const ds={get(t,e){if(!t.exclude.includes(e))return t.props[e]},set(t,e){return!1},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function Pi(t,e,r){return new Proxy({props:t,exclude:e},ds)}function zt(t){return t.ctx?.d??!1}function Ii(t,e,r,n){var s=(r&1)!==0,i=!0,o=(r&8)!==0,u=(r&16)!==0,a=!1,f;o?[f,a]=hs(()=>t[e]):f=t[e];var h=se in t||rn in t,l=o&&(Ce(t,e)?.set??(h&&e in t&&(y=>t[e]=y)))||void 0,c=n,p=!0,d=!1,A=()=>(d=!0,p&&(p=!1,u?c=ne(n):c=n),c);f===void 0&&n!==void 0&&(l&&i&&fn(),f=A(),l&&l(f));var g;if(g=()=>{var y=t[e];return y===void 0?A():(p=!0,d=!1,y)},(r&4)===0&&i)return g;if(l){var S=t.$$legacy;return function(y,T){return arguments.length>0?((!T||S||a)&&l(T?g():y),y):g()}}var v=!1,b=Et(f),_=Te(()=>{var y=g(),T=C(b);return v?(v=!1,T):b.v=y});return o&&C(_),s||(_.equals=wt),function(y,T){if(arguments.length>0){const F=T?C(_):o?fe(y):y;if(!_.equals(F)){if(v=!0,V(b,F),d&&c!==void 0&&(c=F),zt(_))return y;ne(()=>C(_))}return y}return zt(_)?_.v:C(_)}}const z=Object.create(null);z.open="0";z.close="1";z.ping="2";z.pong="3";z.message="4";z.upgrade="5";z.noop="6";const xe=Object.create(null);Object.keys(z).forEach(t=>{xe[z[t]]=t});const ht={type:"error",data:"parser error"},Ir=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Dr=typeof ArrayBuffer=="function",qr=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Nt=({type:t,data:e},r,n)=>Ir&&e instanceof Blob?r?n(e):Xt(e,n):Dr&&(e instanceof ArrayBuffer||qr(e))?r?n(e):Xt(new Blob([e]),n):n(z[t]+(e||"")),Xt=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function jt(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let nt;function ps(t,e){if(Ir&&t.data instanceof Blob)return t.data.arrayBuffer().then(jt).then(e);if(Dr&&(t.data instanceof ArrayBuffer||qr(t.data)))return e(jt(t.data));Nt(t,!1,r=>{nt||(nt=new TextEncoder),e(nt.encode(r))})}const Jt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",me=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Jt.length;t++)me[Jt.charCodeAt(t)]=t;const _s=t=>{let e=t.length*.75,r=t.length,n,s=0,i,o,u,a;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const f=new ArrayBuffer(e),h=new Uint8Array(f);for(n=0;n<r;n+=4)i=me[t.charCodeAt(n)],o=me[t.charCodeAt(n+1)],u=me[t.charCodeAt(n+2)],a=me[t.charCodeAt(n+3)],h[s++]=i<<2|o>>4,h[s++]=(o&15)<<4|u>>2,h[s++]=(u&3)<<6|a&63;return f},vs=typeof ArrayBuffer=="function",xt=(t,e)=>{if(typeof t!="string")return{type:"message",data:Mr(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:ys(t.substring(1),e)}:xe[r]?t.length>1?{type:xe[r],data:t.substring(1)}:{type:xe[r]}:ht},ys=(t,e)=>{if(vs){const r=_s(t);return Mr(r,e)}else return{base64:!0,data:t}},Mr=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Fr="",gs=(t,e)=>{const r=t.length,n=new Array(r);let s=0;t.forEach((i,o)=>{Nt(i,!1,u=>{n[o]=u,++s===r&&e(n.join(Fr))})})},ms=(t,e)=>{const r=t.split(Fr),n=[];for(let s=0;s<r.length;s++){const i=xt(r[s],e);if(n.push(i),i.type==="error")break}return n};function bs(){return new TransformStream({transform(t,e){ps(t,r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(r)})}})}let st;function Oe(t){return t.reduce((e,r)=>e+r.length,0)}function Re(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let n=0;for(let s=0;s<e;s++)r[s]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function ws(t,e){st||(st=new TextDecoder);const r=[];let n=0,s=-1,i=!1;return new TransformStream({transform(o,u){for(r.push(o);;){if(n===0){if(Oe(r)<1)break;const a=Re(r,1);i=(a[0]&128)===128,s=a[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(Oe(r)<2)break;const a=Re(r,2);s=new DataView(a.buffer,a.byteOffset,a.length).getUint16(0),n=3}else if(n===2){if(Oe(r)<8)break;const a=Re(r,8),f=new DataView(a.buffer,a.byteOffset,a.length),h=f.getUint32(0);if(h>Math.pow(2,21)-1){u.enqueue(ht);break}s=h*Math.pow(2,32)+f.getUint32(4),n=3}else{if(Oe(r)<s)break;const a=Re(r,s);u.enqueue(xt(i?a:st.decode(a),e)),n=0}if(s===0||s>t){u.enqueue(ht);break}}}})}const Ur=4;function k(t){if(t)return Es(t)}function Es(t){for(var e in k.prototype)t[e]=k.prototype[e];return t}k.prototype.on=k.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};k.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};k.prototype.off=k.prototype.removeListener=k.prototype.removeAllListeners=k.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,s=0;s<r.length;s++)if(n=r[s],n===e||n.fn===e){r.splice(s,1);break}return r.length===0&&delete this._callbacks["$"+t],this};k.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,s=r.length;n<s;++n)r[n].apply(this,e)}return this};k.prototype.emitReserved=k.prototype.emit;k.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};k.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Xe=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),P=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),As="arraybuffer";function Vr(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const Ts=P.setTimeout,ks=P.clearTimeout;function je(t,e){e.useNativeTimers?(t.setTimeoutFn=Ts.bind(P),t.clearTimeoutFn=ks.bind(P)):(t.setTimeoutFn=P.setTimeout.bind(P),t.clearTimeoutFn=P.clearTimeout.bind(P))}const Ss=1.33;function Os(t){return typeof t=="string"?Rs(t):Math.ceil((t.byteLength||t.size)*Ss)}function Rs(t){let e=0,r=0;for(let n=0,s=t.length;n<s;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function Hr(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Cs(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function Ns(t){let e={},r=t.split("&");for(let n=0,s=r.length;n<s;n++){let i=r[n].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class xs extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class Bt extends k{constructor(e){super(),this.writable=!1,je(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,n){return super.emitReserved("error",new xs(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=xt(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=Cs(e);return r.length?"?"+r:""}}class Bs extends Bt{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};ms(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,gs(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=Hr()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let $r=!1;try{$r=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Ls=$r;function Ps(){}class Is extends Bs{constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}class $ extends k{constructor(e,r,n){super(),this.createRequest=e,je(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const r=Vr(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=$.requestsCount++,$.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Ps,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete $.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}$.requestsCount=0;$.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Gt);else if(typeof addEventListener=="function"){const t="onpagehide"in P?"pagehide":"unload";addEventListener(t,Gt,!1)}}function Gt(){for(let t in $.requests)$.requests.hasOwnProperty(t)&&$.requests[t].abort()}const Ds=function(){const t=Yr({xdomain:!1});return t&&t.responseType!==null}();class qs extends Is{constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=Ds&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new $(Yr,this.uri(),e)}}function Yr(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Ls))return new XMLHttpRequest}catch{}if(!e)try{return new P[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Kr=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Ms extends Bt{get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,n=Kr?{}:Vr(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],s=r===e.length-1;Nt(n,this.supportsBinary,i=>{try{this.doWrite(n,i)}catch{}s&&Xe(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=Hr()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const it=P.WebSocket||P.MozWebSocket;class Fs extends Ms{createSocket(e,r,n){return Kr?new it(e,r,n):r?new it(e,r):new it(e)}doWrite(e,r){this.ws.send(r)}}class Us extends Bt{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=ws(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),s=bs();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const i=()=>{n.read().then(({done:u,value:a})=>{u||(this.onPacket(a),i())}).catch(u=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],s=r===e.length-1;this._writer.write(n).then(()=>{s&&Xe(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Vs={websocket:Fs,webtransport:Us,polling:qs},Hs=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,$s=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function dt(t){if(t.length>8e3)throw"URI too long";const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let s=Hs.exec(t||""),i={},o=14;for(;o--;)i[$s[o]]=s[o]||"";return r!=-1&&n!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Ys(i,i.path),i.queryKey=Ks(i,i.query),i}function Ys(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Ks(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,i){s&&(r[s]=i)}),r}const pt=typeof addEventListener=="function"&&typeof removeEventListener=="function",Be=[];pt&&addEventListener("offline",()=>{Be.forEach(t=>t())},!1);class te extends k{constructor(e,r){if(super(),this.binaryType=As,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const n=dt(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=dt(r.host).host);je(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Ns(this.opts.query)),pt&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Be.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=Ur,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&te.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",te.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(r+=Os(s)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Xe(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,s){if(typeof r=="function"&&(s=r,r=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:e,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(te.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),pt&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Be.indexOf(this._offlineEventListener);n!==-1&&Be.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}te.protocol=Ur;class Ws extends te{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),n=!1;te.priorWebsocketSuccess=!1;const s=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",l=>{if(!n)if(l.type==="pong"&&l.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;te.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(h(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const c=new Error("probe error");c.transport=r.name,this.emitReserved("upgradeError",c)}}))};function i(){n||(n=!0,h(),r.close(),r=null)}const o=l=>{const c=new Error("probe error: "+l);c.transport=r.name,i(),this.emitReserved("upgradeError",c)};function u(){o("transport closed")}function a(){o("socket closed")}function f(l){r&&l.name!==r.name&&i()}const h=()=>{r.removeListener("open",s),r.removeListener("error",o),r.removeListener("close",u),this.off("close",a),this.off("upgrading",f)};r.once("open",s),r.once("error",o),r.once("close",u),this.once("close",a),this.once("upgrading",f),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}}let zs=class extends Ws{constructor(e,r={}){const n=typeof e=="object"?e:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>Vs[s]).filter(s=>!!s)),super(e,n)}};function Xs(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=dt(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+e,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const js=typeof ArrayBuffer=="function",Js=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Wr=Object.prototype.toString,Gs=typeof Blob=="function"||typeof Blob<"u"&&Wr.call(Blob)==="[object BlobConstructor]",Qs=typeof File=="function"||typeof File<"u"&&Wr.call(File)==="[object FileConstructor]";function Lt(t){return js&&(t instanceof ArrayBuffer||Js(t))||Gs&&t instanceof Blob||Qs&&t instanceof File}function Le(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(Le(t[r]))return!0;return!1}if(Lt(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Le(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&Le(t[r]))return!0;return!1}function Zs(t){const e=[],r=t.data,n=t;return n.data=_t(r,e),n.attachments=e.length,{packet:n,buffers:e}}function _t(t,e){if(!t)return t;if(Lt(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=_t(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=_t(t[n],e));return r}return t}function ei(t,e){return t.data=vt(t.data,e),delete t.attachments,t}function vt(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=vt(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=vt(t[r],e));return t}const ti=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ri=5;var m;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(m||(m={}));class ni{constructor(e){this.replacer=e}encode(e){return(e.type===m.EVENT||e.type===m.ACK)&&Le(e)?this.encodeAsBinary({type:e.type===m.EVENT?m.BINARY_EVENT:m.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===m.BINARY_EVENT||e.type===m.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=Zs(e),n=this.encodeAsString(r.packet),s=r.buffers;return s.unshift(n),s}}function Qt(t){return Object.prototype.toString.call(t)==="[object Object]"}class Pt extends k{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===m.BINARY_EVENT;n||r.type===m.BINARY_ACK?(r.type=n?m.EVENT:m.ACK,this.reconstructor=new si(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Lt(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(m[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===m.BINARY_EVENT||n.type===m.BINARY_ACK){const i=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const o=e.substring(i,r);if(o!=Number(o)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(i,r)}else n.nsp="/";const s=e.charAt(r+1);if(s!==""&&Number(s)==s){const i=r+1;for(;++r;){const o=e.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===e.length)break}n.id=Number(e.substring(i,r+1))}if(e.charAt(++r)){const i=this.tryParse(e.substr(r));if(Pt.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case m.CONNECT:return Qt(r);case m.DISCONNECT:return r===void 0;case m.CONNECT_ERROR:return typeof r=="string"||Qt(r);case m.EVENT:case m.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&ti.indexOf(r[0])===-1);case m.ACK:case m.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class si{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=ei(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const ii=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Pt,Encoder:ni,get PacketType(){return m},protocol:ri},Symbol.toStringTag,{value:"Module"}));function q(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const oi=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class zr extends k{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[q(e,"open",this.onopen.bind(this)),q(e,"packet",this.onpacket.bind(this)),q(e,"error",this.onerror.bind(this)),q(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var n,s,i;if(oi.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:m.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const h=this.ids++,l=r.pop();this._registerAckCallback(h,l),o.id=h}const u=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,a=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!u||(a?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,r){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[e]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===e&&this.sendBuffer.splice(u,1);r.call(this,new Error("operation has timed out"))},s),o=(...u)=>{this.io.clearTimeoutFn(i),r.apply(this,u)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...r){return new Promise((n,s)=>{const i=(o,u)=>o?s(o):n(u);i.withError=!0,r.push(i),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...i)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(s)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:m.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case m.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case m.EVENT:case m.BINARY_EVENT:this.onevent(e);break;case m.ACK:case m.BINARY_ACK:this.onack(e);break;case m.DISCONNECT:this.ondisconnect();break;case m.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...s){n||(n=!0,r.packet({type:m.ACK,id:e,data:s}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:m.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function pe(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}pe.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};pe.prototype.reset=function(){this.attempts=0};pe.prototype.setMin=function(t){this.ms=t};pe.prototype.setMax=function(t){this.max=t};pe.prototype.setJitter=function(t){this.jitter=t};class yt extends k{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,je(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new pe({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const s=r.parser||ii;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new zs(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=q(r,"open",function(){n.onopen(),e&&e()}),i=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),e?e(u):this.maybeReconnectOnOpen()},o=q(r,"error",i);if(this._timeout!==!1){const u=this._timeout,a=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),r.close()},u);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(q(e,"ping",this.onping.bind(this)),q(e,"data",this.ondata.bind(this)),q(e,"error",this.onerror.bind(this)),q(e,"close",this.onclose.bind(this)),q(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){Xe(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new zr(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const ge={};function ot(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=Xs(t,e.path||"/socket.io"),n=r.source,s=r.id,i=r.path,o=ge[s]&&i in ge[s].nsps,u=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let a;return u?a=new yt(n,e):(ge[s]||(ge[s]=new yt(n,e)),a=ge[s]),r.query&&!e.query&&(e.query=r.queryKey),a.socket(r.path,e)}Object.assign(ot,{Manager:yt,Socket:zr,io:ot,connect:ot});export{Bi as A,Ci as B,Si as C,ui as D,Li as E,gi as F,li as G,ki as H,Ei as I,kn as J,Ni as K,Ti as L,yi as M,pi as N,os as O,Oi as P,Ri as a,mi as b,ci as c,Vn as d,Q as e,_i as f,C as g,fe as h,Ai as i,hi as j,is as k,Yt as l,bi as m,X as n,V as o,Ii as p,vi as q,Pi as r,wi as s,di as t,fi as u,xi as v,cs as w,ot as x,ai as y,jn as z};
//# sourceMappingURL=vendor-p8hDesqD.js.map
